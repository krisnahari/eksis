!function(t){t.fn.exists=function(t){var e=[].slice.call(arguments,1);return this.length&&t.call(this,e),this}}(jQuery),/*
 * Lazy Load - jQuery plugin for lazy loading images
 *
 * Copyright (c) 2007-2013 Mika Tuupola
 *
 * Licensed under the MIT license:
 *   http://www.opensource.org/licenses/mit-license.php
 *
 * Project home:
 *   http://www.appelsiini.net/projects/lazyload
 *
 * Version:  1.9.3
 *
 */
function(t,e,i,o){var n=t(e);t.fn.lazyload=function(s){function r(){var e=0;l.each(function(){var i=t(this);if(!h.skip_invisible||i.is(":visible"))if(t.abovethetop(this,h)||t.leftofbegin(this,h));else if(t.belowthefold(this,h)||t.rightoffold(this,h)){if(++e>h.failure_limit)return!1}else i.trigger("appear"),e=0})}var a,l=this,h={threshold:0,failure_limit:0,event:"scroll",effect:"show",container:e,data_attribute:"original",skip_invisible:!0,appear:null,load:null,placeholder:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsQAAA7EAZUrDhsAAAANSURBVBhXYzh8+PB/AAffA0nNPuCLAAAAAElFTkSuQmCC"};return s&&(o!==s.failurelimit&&(s.failure_limit=s.failurelimit,delete s.failurelimit),o!==s.effectspeed&&(s.effect_speed=s.effectspeed,delete s.effectspeed),t.extend(h,s)),a=h.container===o||h.container===e?n:t(h.container),0===h.event.indexOf("scroll")&&a.bind(h.event,function(){return r()}),this.each(function(){var e=this,i=t(e);e.loaded=!1,(i.attr("src")===o||i.attr("src")===!1)&&i.is("img")&&i.attr("src",h.placeholder),i.one("appear",function(){if(!this.loaded){if(h.appear){var o=l.length;h.appear.call(e,o,h)}t("<img />").bind("load",function(){var o=i.attr("data-"+h.data_attribute);i.hide(),i.is("img")?i.attr("src",o):i.css("background-image","url('"+o+"')"),i[h.effect](h.effect_speed),e.loaded=!0;var n=t.grep(l,function(t){return!t.loaded});if(l=t(n),h.load){var s=l.length;h.load.call(e,s,h)}}).attr("src",i.attr("data-"+h.data_attribute))}}),0!==h.event.indexOf("scroll")&&i.bind(h.event,function(){e.loaded||i.trigger("appear")})}),n.bind("resize",function(){r()}),/(?:iphone|ipod|ipad).*os 5/gi.test(navigator.appVersion)&&n.bind("pageshow",function(e){e.originalEvent&&e.originalEvent.persisted&&l.each(function(){t(this).trigger("appear")})}),t(i).ready(function(){r()}),this},t.belowthefold=function(i,s){var r;return r=s.container===o||s.container===e?(e.innerHeight?e.innerHeight:n.height())+n.scrollTop():t(s.container).offset().top+t(s.container).height(),r<=t(i).offset().top-s.threshold},t.rightoffold=function(i,s){var r;return r=s.container===o||s.container===e?n.width()+n.scrollLeft():t(s.container).offset().left+t(s.container).width(),r<=t(i).offset().left-s.threshold},t.abovethetop=function(i,s){var r;return r=s.container===o||s.container===e?n.scrollTop():t(s.container).offset().top,r>=t(i).offset().top+s.threshold+t(i).height()},t.leftofbegin=function(i,s){var r;return r=s.container===o||s.container===e?n.scrollLeft():t(s.container).offset().left,r>=t(i).offset().left+s.threshold+t(i).width()},t.inviewport=function(e,i){return!(t.rightoffold(e,i)||t.leftofbegin(e,i)||t.belowthefold(e,i)||t.abovethetop(e,i))},t.extend(t.expr[":"],{"below-the-fold":function(e){return t.belowthefold(e,{threshold:0})},"above-the-top":function(e){return!t.belowthefold(e,{threshold:0})},"right-of-screen":function(e){return t.rightoffold(e,{threshold:0})},"left-of-screen":function(e){return!t.rightoffold(e,{threshold:0})},"in-viewport":function(e){return t.inviewport(e,{threshold:0})},"above-the-fold":function(e){return!t.belowthefold(e,{threshold:0})},"right-of-fold":function(e){return t.rightoffold(e,{threshold:0})},"left-of-fold":function(e){return!t.rightoffold(e,{threshold:0})}})}(jQuery,window,document),// copyright chris wanstrath
function(t){function e(e,o,n){var s=this;return this.on("click.pjax",e,function(e){var r=t.extend({},d(o,n));r.container||(r.container=t(this).attr("data-pjax")||s),i(e,r)})}function i(e,i,o){o=d(i,o);var s=e.currentTarget;if("A"!==s.tagName.toUpperCase())throw"$.fn.pjax or $.pjax.click requires an anchor element";if(!(e.which>1||e.metaKey||e.ctrlKey||e.shiftKey||e.altKey||location.protocol!==s.protocol||location.hostname!==s.hostname||s.hash&&s.href.replace(s.hash,"")===location.href.replace(location.hash,"")||s.href===location.href+"#"||e.isDefaultPrevented())){var r={url:s.href,container:t(s).attr("data-pjax"),target:s},a=t.extend({},r,o),l=t.Event("pjax:click");t(s).trigger(l,[a]),l.isDefaultPrevented()||(n(a),e.preventDefault(),t(s).trigger("pjax:clicked",[a]))}}function o(e,i,o){o=d(i,o);var s=e.currentTarget;if("FORM"!==s.tagName.toUpperCase())throw"$.pjax.submit requires a form element";var r={type:s.method.toUpperCase(),url:s.action,data:t(s).serializeArray(),container:t(s).attr("data-pjax"),target:s};n(t.extend({},r,o)),e.preventDefault()}function n(e){function i(e,i){var n=t.Event(e,{relatedTarget:o});return a.trigger(n,i),!n.isDefaultPrevented()}e=t.extend(!0,{},t.ajaxSettings,n.defaults,e),t.isFunction(e.url)&&(e.url=e.url());var o=e.target,s=p(e.url).hash,a=e.context=f(e.container);e.data||(e.data={}),e.data._pjax=a.selector;var l;e.beforeSend=function(t,o){return"GET"!==o.type&&(o.timeout=0),t.setRequestHeader("X-PJAX","true"),t.setRequestHeader("X-PJAX-Container",a.selector),i("pjax:beforeSend",[t,o])?(o.timeout>0&&(l=setTimeout(function(){i("pjax:timeout",[t,e])&&t.abort("timeout")},o.timeout),o.timeout=0),e.requestUrl=p(o.url).href,void 0):!1},e.complete=function(t,o){l&&clearTimeout(l),i("pjax:complete",[t,o,e]),i("pjax:end",[t,e])},e.error=function(t,o,n){var s=g("",t,e),a=i("pjax:error",[t,o,n,e]);"GET"==e.type&&"abort"!==o&&a&&r(s.url)},e.success=function(o,l,c){var d="function"==typeof t.pjax.defaults.version?t.pjax.defaults.version():t.pjax.defaults.version,f=c.getResponseHeader("X-PJAX-Version"),u=g(o,c,e);if(d&&f&&d!==f)return r(u.url),void 0;if(!u.contents)return r(u.url),void 0;n.state={id:e.id||h(),url:u.url,title:u.title,container:a.selector,fragment:e.fragment,timeout:e.timeout},(e.push||e.replace)&&window.history.replaceState(n.state,u.title,u.url);try{document.activeElement.blur()}catch(v){}u.title&&(document.title=u.title),i("pjax:beforeReplace",[u.contents,e]),a.html(u.contents);var b=a.find("input[autofocus], textarea[autofocus]").last()[0];if(b&&document.activeElement!==b&&b.focus(),m(u.scripts),"number"==typeof e.scrollTo&&t(window).scrollTop(e.scrollTo),""!==s){var y=p(u.url);y.hash=s,n.state.url=y.href,window.history.replaceState(n.state,u.title,y.href);var w=t(y.hash);w.length&&t(window).scrollTop(w.offset().top)}i("pjax:success",[o,l,c,e])},n.state||(n.state={id:h(),url:window.location.href,title:document.title,container:a.selector,fragment:e.fragment,timeout:e.timeout},window.history.replaceState(n.state,document.title));var d=n.xhr;d&&d.readyState<4&&(d.onreadystatechange=t.noop,d.abort()),n.options=e;var d=n.xhr=t.ajax(e);return d.readyState>0&&(e.push&&!e.replace&&(b(n.state.id,a.clone().contents()),window.history.pushState(null,"",c(e.requestUrl))),i("pjax:start",[d,e]),i("pjax:send",[d,e])),n.xhr}function s(e,i){var o={url:window.location.href,push:!1,replace:!0,scrollTo:!1};return n(t.extend(o,d(e,i)))}function r(t){window.history.replaceState(null,"","#"),window.location.replace(t)}function a(e){var i=e.state;if(i&&i.container){if(C&&T==i.url)return;if(n.state&&n.state.id===i.id)return;var o=t(i.container);if(o.length){var s,a=A[i.id];n.state&&(s=n.state.id<i.id?"forward":"back",y(s,n.state.id,o.clone().contents()));var l=t.Event("pjax:popstate",{state:i,direction:s});o.trigger(l);var h={id:i.id,url:i.url,container:o,push:!1,fragment:i.fragment,timeout:i.timeout,scrollTo:!1};a?(o.trigger("pjax:start",[null,h]),i.title&&(document.title=i.title),o.trigger("pjax:beforeReplace",[a,h]),o.html(a),n.state=i,o.trigger("pjax:end",[null,h])):n(h),o[0].offsetHeight}else r(location.href)}C=!1}function l(e){var i=t.isFunction(e.url)?e.url():e.url,o=e.type?e.type.toUpperCase():"GET",n=t("<form>",{method:"GET"===o?"GET":"POST",action:i,style:"display:none"});"GET"!==o&&"POST"!==o&&n.append(t("<input>",{type:"hidden",name:"_method",value:o.toLowerCase()}));var s=e.data;if("string"==typeof s)t.each(s.split("&"),function(e,i){var o=i.split("=");n.append(t("<input>",{type:"hidden",name:o[0],value:o[1]}))});else if("object"==typeof s)for(key in s)n.append(t("<input>",{type:"hidden",name:key,value:s[key]}));t(document.body).append(n),n.submit()}function h(){return(new Date).getTime()}function c(t){return t.replace(/\?_pjax=[^&]+&?/,"?").replace(/_pjax=[^&]+&?/,"").replace(/[\?&]$/,"")}function p(t){var e=document.createElement("a");return e.href=t,e}function d(e,i){return e&&i?i.container=e:i=t.isPlainObject(e)?e:{container:e},i.container&&(i.container=f(i.container)),i}function f(e){if(e=t(e),e.length){if(""!==e.selector&&e.context===document)return e;if(e.attr("id"))return t("#"+e.attr("id"));throw"cant get selector for pjax container!"}throw"no pjax container for "+e.selector}function u(t,e){return t.filter(e).add(t.find(e))}function v(e){return t.parseHTML(e,document,!0)}function g(e,i,o){var n={};if(n.url=c(i.getResponseHeader("X-PJAX-URL")||o.requestUrl),/<html/i.test(e))var s=t(v(e.match(/<head[^>]*>([\s\S.]*)<\/head>/i)[0])),r=t(v(e.match(/<body[^>]*>([\s\S.]*)<\/body>/i)[0]));else var s=r=t(v(e));if(0===r.length)return n;if(n.title=u(s,"title").last().text(),o.fragment){if("body"===o.fragment)var a=r;else var a=u(r,o.fragment).first();a.length&&(n.contents=a.contents(),n.title||(n.title=a.attr("title")||a.data("title")))}else/<html/i.test(e)||(n.contents=r);return n.contents&&(n.contents=n.contents.not(function(){return t(this).is("title")}),n.contents.find("title").remove(),n.scripts=u(n.contents,"script[src]").remove(),n.contents=n.contents.not(n.scripts)),n.title&&(n.title=t.trim(n.title)),n}function m(e){if(e){var i=t("script[src]");e.each(function(){var e=this.src,o=i.filter(function(){return this.src===e});if(!o.length){var n=document.createElement("script");n.type=t(this).attr("type"),n.src=t(this).attr("src"),document.head.appendChild(n)}})}}function b(t,e){for(A[t]=e,S.push(t);j.length;)delete A[j.shift()];for(;S.length>n.defaults.maxCacheLength;)delete A[S.shift()]}function y(t,e,i){var o,n;A[e]=i,"forward"===t?(o=S,n=j):(o=j,n=S),o.push(e),(e=n.pop())&&delete A[e]}function w(){return t("meta").filter(function(){var e=t(this).attr("http-equiv");return e&&"X-PJAX-VERSION"===e.toUpperCase()}).attr("content")}function $(){t.fn.pjax=e,t.pjax=n,t.pjax.enable=t.noop,t.pjax.disable=x,t.pjax.click=i,t.pjax.submit=o,t.pjax.reload=s,t.pjax.defaults={timeout:650,push:!0,replace:!1,type:"GET",dataType:"html",scrollTo:0,maxCacheLength:20,version:w},t(window).on("popstate.pjax",a)}function x(){t.fn.pjax=function(){return this},t.pjax=l,t.pjax.enable=$,t.pjax.disable=t.noop,t.pjax.click=t.noop,t.pjax.submit=t.noop,t.pjax.reload=function(){window.location.reload()},t(window).off("popstate.pjax",a)}var C=!0,T=window.location.href,E=window.history.state;E&&E.container&&(n.state=E),"state"in window.history&&(C=!1);var A={},j=[],S=[];t.inArray("state",t.event.props)<0&&t.event.props.push("state"),t.support.pjax=window.history&&window.history.pushState&&window.history.replaceState&&!navigator.userAgent.match(/((iPod|iPhone|iPad).+\bOS\s+[1-4]|WebApps\/.+CFNetwork)/),t.support.pjax?$():x()}(jQuery),function(t){t(function(){var e=t(window),i=(t(document.body),function(t,i){t.css({height:e.height()-i})});e.load(function(){t(this).trigger("site:onload")}).resize(function(){var e=t(this);setTimeout(function(){e.trigger("site:onresize")},200)}),i(t(".fsbg.index"),0),e.on("site:onload site:onresize pjax:end",function(){i(t(".fsbg.index"),0)}),t("#content").unbind(".dl"),e.on("load pjax:end",function(){setTimeout(function(){t(".dl").lazyload({event:"freeze",load:function(){var e=t(this);e.addClass("ld").removeClass("dl")}})},2e3)}),e.bind("load",function(){setTimeout(function(){t(".dl").trigger("freeze")},5e3)})})}(window.jQuery);